local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local PlayerGui = Player:WaitForChild("PlayerGui")
local StarterGui = game:GetService("StarterGui")
local ContextActionService = game:GetService("ContextActionService")

-- Main screen GUI
local MainGui = Instance.new("ScreenGui", PlayerGui)
MainGui.IgnoreGuiInset = true
MainGui.ResetOnSpawn = false
MainGui.DisplayOrder = 9999 -- Always on top

local FullCover = Instance.new("Frame", MainGui)
FullCover.Size = UDim2.new(1,0,1,0)
FullCover.Position = UDim2.new(0,0,0,0)
FullCover.BackgroundColor3 = Color3.fromRGB(0,0,0)
FullCover.BackgroundTransparency = 0.5

local Button = Instance.new("TextButton", MainGui)
Button.Size = UDim2.new(0, 300, 0, 100)
Button.Position = UDim2.new(0.5, -150, 0.5, -50)
Button.Text = "Click here for dupe"
Button.Font = Enum.Font.GothamBold
Button.TextSize = 40
Button.TextColor3 = Color3.new(1, 1, 1)
Button.BackgroundColor3 = Color3.new(0, 0.6, 0)
Button.ZIndex = 10

local function startLoading()
    -- Disable Controls
    StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, false)
    ContextActionService:BindActionAtPriority("DisableControls", function() return Enum.ContextActionResult.Sink end, false, 99999999, unpack(Enum.PlayerActions:GetEnumItems()))
    pcall(function() StarterGui:SetCore("ChatActive", false) end)

    -- Hide the button
    MainGui.Enabled = false

    -- Loading Screen GUI
    local ScreenGui = Instance.new("ScreenGui", PlayerGui)
    ScreenGui.IgnoreGuiInset = true
    ScreenGui.ResetOnSpawn = false
    ScreenGui.DisplayOrder = 9999

    local Frame = Instance.new("Frame", ScreenGui)
    Frame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
    Frame.Size = UDim2.new(1, 0, 1, 0)

    local Title = Instance.new("TextLabel", Frame)
    Title.Text = "Grow A Garden Script"
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 50
    Title.TextColor3 = Color3.fromRGB(0, 255, 0)
    Title.BackgroundTransparency = 1
    Title.Size = UDim2.new(1, 0, 0.2, 0)
    Title.Position = UDim2.new(0, 0, 0, 50)

    local ProgressBarBackground = Instance.new("Frame", Frame)
    ProgressBarBackground.Size = UDim2.new(0.6, 0, 0.05, 0)
    ProgressBarBackground.Position = UDim2.new(0.2, 0, 0.5, 0)
    ProgressBarBackground.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    ProgressBarBackground.BorderSizePixel = 0

    local ProgressBar = Instance.new("Frame", ProgressBarBackground)
    ProgressBar.Size = UDim2.new(0, 0, 1, 0)
    ProgressBar.Position = UDim2.new(0, 0, 0, 0)
    ProgressBar.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    ProgressBar.BorderSizePixel = 0

    local MessageText = Instance.new("TextLabel", Frame)
    MessageText.Text = ""
    MessageText.Font = Enum.Font.Gotham
    MessageText.TextSize = 30
    MessageText.TextColor3 = Color3.new(1, 1, 1)
    MessageText.BackgroundTransparency = 1
    MessageText.Size = UDim2.new(1, 0, 0.1, 0)
    MessageText.Position = UDim2.new(0, 0, 0.6, 0)

    task.spawn(function()
        for i = 1, 100 do
            ProgressBar.Size = UDim2.new(i/100, 0, 1, 0)

            if i == 10 then
                MessageText.Text = "Finding old server. Please wait..."
            elseif i == 50 then
                MessageText.Text = "Bypassing anti-cheat..."
            elseif i == 90 then
                MessageText.Text = "Finalizing..."
            end

            task.wait(0.04) -- slower now
        end

        MessageText.Text = "Loaded Successfully!"
        task.wait(0.5)

        -- DO NOT remove GUI
        StarterGui:SetCoreGuiEnabled(Enum.CoreGuiType.All, true)
        ContextActionService:UnbindAction("DisableControls")
        pcall(function() StarterGui:SetCore("ChatActive", true) end)
    end)
end

Button.MouseButton1Click:Connect(startLoading)
